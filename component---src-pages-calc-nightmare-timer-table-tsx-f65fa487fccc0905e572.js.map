{"version":3,"sources":["webpack:///./node_modules/@material-ui/lab/esm/ToggleButton/ToggleButton.js","webpack:///./node_modules/@material-ui/lab/esm/ToggleButtonGroup/isValueSelected.js","webpack:///./node_modules/@material-ui/lab/esm/ToggleButtonGroup/ToggleButtonGroup.js","webpack:///./src/pages/calc/nightmare/timer-table.tsx"],"names":["props","ref","children","classes","className","_props$disabled","disabled","_props$disableFocusRi","disableFocusRipple","onChange","onClick","selected","_props$size","size","value","other","ButtonBase","root","concat","capitalize","focusRipple","event","isDefaultPrevented","label","withStyles","theme","typography","button","boxSizing","borderRadius","shape","padding","border","palette","action","active","color","backgroundColor","borderLeft","marginLeft","textDecoration","text","primary","width","display","alignItems","justifyContent","sizeSmall","fontSize","pxToRem","sizeLarge","name","isValueSelected","candidate","undefined","Array","isArray","indexOf","ToggleButtonGroup","_props$exclusive","exclusive","_props$orientation","orientation","handleChange","buttonValue","newValue","index","slice","splice","handleExclusiveChange","role","vertical","map","child","grouped","flexDirection","groupedHorizontal","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","borderBottomRightRadius","groupedVertical","marginTop","borderTop","mareTime","ready","useStyles","makeStyles","createStyles","flexWrap","margin","filter","flex","timerPanel","historyPanel","position","timerTable","timerLabelCell","flexGrow","height","background","textAlign","fontWeight","timerIconCell","timeDisplayCell","settingTriggerTable","settingStartPanel","settingnightmarePanel","settingOptionalTable","minWidth","settingClearPanel","settingTable","marginBottom","timerButton","nightmareButtonIcon","Alert","elevation","variant","TimerTable","square","MaretimerTable","TimerSettingTable","React","snackPack","setSnackPack","useState","snackbarOpen","setSnackbarOpen","messageInfo","setMessageInfo","useEffect","prev","handleSnackbarOpen","message","severity","key","Date","getTime","handleSnackbarClose","reason","aria-label","title","arrow","data-id","startIcon","startButtonDisabled","open","autoHideDuration","onClose","onExited","handleNightmareButton","nowZeroDate","now","window","Audio","coloCount","setColoCount","readyCount","setReadyCount","mareCount","setMareCount","startActivate","setStartActivate","triggers","setTriggers","setStartButtonDisabled","optButtonDisabled","setOptButtonDisabled","startTime","getCloseColoTime","colo_countdown_timer","setTimeout","colo_countdown","clearTimeout","time","Number","clearInterval","getTimeDate","getTimeText","date","hh","mm","ss","dd","dateValue","dateArray","getCountdownDate","endDate","getEndDate","endtime","count","tick_tock","audio_notification","ready_countdown_bgcolorflg","mare_countdown_bgcolorflg","ready_countdown","audio_timeup","m","s","mare_countdown","coloCountText","readyCountText","mareCountText","handleTriggers","handleStartButton","ready_countdown_timer","mare_countdown_timer","handleRestartButton","handleShorteningButton","handleMinusButton","handleClearButton","initTime","e","mareReady","mareActivate","setInterval"],"mappings":"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","file":"component---src-pages-calc-nightmare-timer-table-tsx-f65fa487fccc0905e572.js","sourcesContent":["import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\"; // @inheritedComponent ButtonBase\n\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { fade, withStyles } from '@material-ui/core/styles';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport { capitalize } from '@material-ui/core/utils';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.button, {\n      boxSizing: 'border-box',\n      borderRadius: theme.shape.borderRadius,\n      padding: 11,\n      border: \"1px solid \".concat(fade(theme.palette.action.active, 0.12)),\n      color: fade(theme.palette.action.active, 0.38),\n      '&$selected': {\n        color: theme.palette.action.active,\n        backgroundColor: fade(theme.palette.action.active, 0.12),\n        '&:hover': {\n          backgroundColor: fade(theme.palette.action.active, 0.15)\n        },\n        '& + &': {\n          borderLeft: 0,\n          marginLeft: 0\n        }\n      },\n      '&$disabled': {\n        color: fade(theme.palette.action.disabled, 0.12)\n      },\n      '&:hover': {\n        textDecoration: 'none',\n        // Reset on mouse devices\n        backgroundColor: fade(theme.palette.text.primary, 0.05),\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        },\n        '&$disabled': {\n          backgroundColor: 'transparent'\n        }\n      }\n    }),\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Pseudo-class applied to the root element if `selected={true}`. */\n    selected: {},\n\n    /* Styles applied to the `label` wrapper element. */\n    label: {\n      width: '100%',\n      // Ensure the correct width for iOS Safari\n      display: 'inherit',\n      alignItems: 'inherit',\n      justifyContent: 'inherit'\n    },\n\n    /* Styles applied to the root element if `size=\"small\"`. */\n    sizeSmall: {\n      padding: 7,\n      fontSize: theme.typography.pxToRem(13)\n    },\n\n    /* Styles applied to the root element if `size=\"large\"`. */\n    sizeLarge: {\n      padding: 15,\n      fontSize: theme.typography.pxToRem(15)\n    }\n  };\n};\nvar ToggleButton = /*#__PURE__*/React.forwardRef(function ToggleButton(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disableFocusRi = props.disableFocusRipple,\n      disableFocusRipple = _props$disableFocusRi === void 0 ? false : _props$disableFocusRi,\n      onChange = props.onChange,\n      onClick = props.onClick,\n      selected = props.selected,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      value = props.value,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"disabled\", \"disableFocusRipple\", \"onChange\", \"onClick\", \"selected\", \"size\", \"value\"]);\n\n  var handleChange = function handleChange(event) {\n    if (onClick) {\n      onClick(event, value);\n\n      if (event.isDefaultPrevented()) {\n        return;\n      }\n    }\n\n    if (onChange) {\n      onChange(event, value);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    className: clsx(classes.root, className, disabled && classes.disabled, selected && classes.selected, size !== 'medium' && classes[\"size\".concat(capitalize(size))]),\n    disabled: disabled,\n    focusRipple: !disableFocusRipple,\n    ref: ref,\n    onClick: handleChange,\n    onChange: onChange,\n    value: value,\n    \"aria-pressed\": selected\n  }, other), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.label\n  }, children));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiToggleButton'\n})(ToggleButton);","// Determine if the toggle button value matches, or is contained in, the\n// candidate group value.\nexport default function isValueSelected(value, candidate) {\n  if (candidate === undefined || value === undefined) {\n    return false;\n  }\n\n  if (Array.isArray(candidate)) {\n    return candidate.indexOf(value) >= 0;\n  }\n\n  return value === candidate;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport { isFragment } from 'react-is';\nimport clsx from 'clsx';\nimport isValueSelected from './isValueSelected';\nimport { withStyles } from '@material-ui/core/styles';\nimport { capitalize } from '@material-ui/core/utils';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-flex',\n      borderRadius: theme.shape.borderRadius\n    },\n\n    /* Styles applied to the root element if `orientation=\"vertical\"`. */\n    vertical: {\n      flexDirection: 'column'\n    },\n\n    /* Styles applied to the children. */\n    grouped: {},\n\n    /* Styles applied to the children if `orientation=\"horizontal\"`. */\n    groupedHorizontal: {\n      '&:not(:first-child)': {\n        marginLeft: -1,\n        borderLeft: '1px solid transparent',\n        borderTopLeftRadius: 0,\n        borderBottomLeftRadius: 0\n      },\n      '&:not(:last-child)': {\n        borderTopRightRadius: 0,\n        borderBottomRightRadius: 0\n      }\n    },\n\n    /* Styles applied to the children if `orientation=\"vertical\"`. */\n    groupedVertical: {\n      '&:not(:first-child)': {\n        marginTop: -1,\n        borderTop: '1px solid transparent',\n        borderTopLeftRadius: 0,\n        borderTopRightRadius: 0\n      },\n      '&:not(:last-child)': {\n        borderBottomLeftRadius: 0,\n        borderBottomRightRadius: 0\n      }\n    }\n  };\n};\nvar ToggleButtonGroup = /*#__PURE__*/React.forwardRef(function ToggleButton(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$exclusive = props.exclusive,\n      exclusive = _props$exclusive === void 0 ? false : _props$exclusive,\n      onChange = props.onChange,\n      _props$orientation = props.orientation,\n      orientation = _props$orientation === void 0 ? 'horizontal' : _props$orientation,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      value = props.value,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"exclusive\", \"onChange\", \"orientation\", \"size\", \"value\"]);\n\n  var handleChange = function handleChange(event, buttonValue) {\n    if (!onChange) {\n      return;\n    }\n\n    var index = value && value.indexOf(buttonValue);\n    var newValue;\n\n    if (value && index >= 0) {\n      newValue = value.slice();\n      newValue.splice(index, 1);\n    } else {\n      newValue = value ? value.concat(buttonValue) : [buttonValue];\n    }\n\n    onChange(event, newValue);\n  };\n\n  var handleExclusiveChange = function handleExclusiveChange(event, buttonValue) {\n    if (!onChange) {\n      return;\n    }\n\n    onChange(event, value === buttonValue ? null : buttonValue);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    role: \"group\",\n    className: clsx(classes.root, className, orientation === 'vertical' && classes.vertical),\n    ref: ref\n  }, other), React.Children.map(children, function (child) {\n    if (! /*#__PURE__*/React.isValidElement(child)) {\n      return null;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (isFragment(child)) {\n        console.error([\"Material-UI: The ToggleButtonGroup component doesn't accept a Fragment as a child.\", 'Consider providing an array instead.'].join('\\n'));\n      }\n    }\n\n    return /*#__PURE__*/React.cloneElement(child, {\n      className: clsx(classes.grouped, classes[\"grouped\".concat(capitalize(orientation))], child.props.className),\n      onChange: exclusive ? handleExclusiveChange : handleChange,\n      selected: child.props.selected === undefined ? isValueSelected(child.props.value, value) : child.props.selected,\n      size: child.props.size || size\n    });\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiToggleButtonGroup'\n})(ToggleButtonGroup);","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\r\nimport { Button, Paper, Snackbar, Tooltip, Typography } from '@material-ui/core';\r\nimport { SINoImage } from 'src/components';\r\nimport TimerIcon from '@material-ui/icons/Timer';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport ToggleButton from '@material-ui/lab/ToggleButton';\r\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\r\nimport MuiAlert, { AlertProps } from '@material-ui/lab/Alert';\r\nimport NightmareTabs from './nightmare-tabs';\r\n\r\n//タイマー保持\r\nlet colo_countdown_timer: NodeJS.Timeout,\r\n    mare_countdown_timer: NodeJS.Timeout,\r\n    ready_countdown_timer: NodeJS.Timeout;\r\n//メア時間保持\r\nlet mareTime = [0, 0];\r\n//タイマー測定開始時間保持\r\nlet ready = new Date();\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      padding: '5px',\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      flexWrap: 'nowrap',\r\n      justifyContent: 'center',\r\n      alignItems: 'stretch',\r\n      [theme.breakpoints.down('xs')]: {\r\n        flexDirection: 'column',\r\n      },\r\n      '& h2': {\r\n        fontSize: '1.8rem',\r\n        margin: '10px auto',\r\n        width: '100%',\r\n      },\r\n      '& .MuiToggleButton-root': {\r\n        padding: '2px',\r\n        '&:hover': {\r\n          backgroundColor: 'rgba(0, 0, 0, 0.1)',\r\n          filter: 'invert(5%)',\r\n        },\r\n        '&.Mui-selected': {\r\n          backgroundColor: 'rgba(0, 0, 0, 0.24)',\r\n          filter: 'invert(20%)',\r\n          '&:hover': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.28)',\r\n            filter: 'invert(25%)',\r\n          },\r\n        },\r\n      },\r\n      '& .MuiAlert-root': {\r\n        fontSize: '1.4rem',\r\n      },\r\n    },\r\n    flex: {\r\n      display: 'flex',\r\n    },\r\n    timerPanel: {\r\n      margin: '0 5px',\r\n    },\r\n    historyPanel: {\r\n      margin: '0 5px',\r\n      position: 'relative',\r\n    },\r\n\r\n    timerTable: {\r\n      width: 'fit-content',\r\n      margin: '0 auto',\r\n    },\r\n    timerLabelCell: {\r\n      flexGrow: 2,\r\n      height: '3rem',\r\n      padding: '1px 5px',\r\n      background: '#FF7F50',\r\n      color: '#FFFFFF',\r\n      textAlign: 'center',\r\n      fontSize: '2rem',\r\n      fontWeight: 'bold',\r\n    },\r\n    timerIconCell: {\r\n      border: 'solid 1px lightgray',\r\n      width: '6rem',\r\n      height: '6rem',\r\n    },\r\n    timeDisplayCell: {\r\n      border: 'solid 1px lightgray',\r\n      width: '10.5rem',\r\n      padding: '0px 10px',\r\n      textAlign: 'center',\r\n      fontSize: '2rem',\r\n      fontWeight: 'bold',\r\n    },\r\n\r\n    settingTriggerTable: {\r\n      width: '80%',\r\n      margin: '0 auto',\r\n    },\r\n    settingStartPanel: {\r\n      width: '95%',\r\n      margin: '0 auto',\r\n    },\r\n    settingnightmarePanel: {\r\n      margin: '0 auto',\r\n    },\r\n    settingOptionalTable: {\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      width: '85%',\r\n      margin: '0 auto',\r\n      '& .MuiButton-root': {\r\n        minWidth: 'auto', \r\n        width: '40px',\r\n        height: '40px',\r\n        padding: '0px',\r\n        margin: '3px',\r\n        fontSize: '1.6rem',\r\n      },\r\n    },    \r\n    settingClearPanel: {\r\n      margin: '0 0 0 auto',\r\n      '& .MuiButton-root': {\r\n        width: '10rem',\r\n      },\r\n    },\r\n    settingTable: {\r\n      '& > *': {\r\n        marginBottom: theme.spacing(1),\r\n      },\r\n    },\r\n\r\n    timerButton: {\r\n      width: '100%',\r\n      minWidth: '100px',\r\n      height: '5rem',\r\n      fontSize: '1.8rem',\r\n    },\r\n    nightmareButtonIcon: {\r\n      width: '4rem',\r\n      height: '4rem',\r\n    },\r\n  }),\r\n);\r\n\r\nconst Alert = (props: AlertProps) => {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nconst TimerTable = (props: any) => {\r\n  const classes = useStyles();\r\n\r\n  return(\r\n    <>\r\n      <h2>コロシアム残り時間</h2>\r\n\r\n      <Paper square className={classes.timerTable}>\r\n        <div className={classes.flex}>\r\n          <Paper variant=\"outlined\" square className={classes.timerLabelCell}>全体時間</Paper>\r\n          <Paper variant=\"outlined\" square className={classes.timeDisplayCell}>{props.coloCountText}</Paper>\r\n        </div>\r\n        <div className={classes.flex}>\r\n          <Paper variant=\"outlined\" square className={classes.timerIconCell}></Paper>\r\n          <div>\r\n            <div className={classes.flex}>\r\n              <Paper variant=\"outlined\" square className={classes.timerLabelCell}>発動</Paper>\r\n              <Paper variant=\"outlined\" square className={classes.timeDisplayCell}>00:00:00</Paper>\r\n            </div>\r\n            <div className={classes.flex}>\r\n              <Paper variant=\"outlined\" square className={classes.timerLabelCell}>終了</Paper>\r\n              <Paper variant=\"outlined\" square className={classes.timeDisplayCell}>__:__:__</Paper>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Paper>\r\n    </>\r\n  )\r\n};\r\n\r\nconst MaretimerTable = (props: any) => {\r\n  const classes = useStyles();\r\n\r\n  return(\r\n    <>\r\n      <h2>タイマー</h2>\r\n      <Paper square className={classes.timerTable}>\r\n        <div className={classes.flex}>\r\n          <Paper variant=\"outlined\" square className={classes.timerLabelCell}>発動時間</Paper>\r\n          <Paper variant=\"outlined\" square className={classes.timeDisplayCell}>{props.readyCountText}</Paper>\r\n        </div>\r\n        <div className={classes.flex}>\r\n          <Paper variant=\"outlined\" square className={classes.timerLabelCell}>終了時間</Paper>\r\n          <Paper variant=\"outlined\" square className={classes.timeDisplayCell}>{props.mareCountText}</Paper>\r\n        </div>\r\n      </Paper>\r\n    </>\r\n  )\r\n};\r\n\r\nconst TimerSettingTable = (props: any) => {\r\n  const classes = useStyles();\r\n\r\n  //ボタントリガーアラート\r\n  interface SnackbarMessage {\r\n    message: string;\r\n    severity: \"success\" | \"info\" | \"warning\" | \"error\" | undefined;\r\n    key: number;\r\n  }\r\n  \r\n  const [snackPack, setSnackPack] = React.useState<SnackbarMessage[]>([]);\r\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\r\n  const [messageInfo, setMessageInfo] = React.useState<SnackbarMessage | undefined>(undefined);\r\n\r\n  useEffect(() => {\r\n    if (snackPack.length && !messageInfo) {\r\n      // Set a new snack when we don't have an active one\r\n      setMessageInfo({ ...snackPack[0] });\r\n      setSnackPack((prev) => prev.slice(1));\r\n      setSnackbarOpen(true);\r\n    } else if (snackPack.length && messageInfo && snackbarOpen) {\r\n      // Close an active snack when a new one is added\r\n      setSnackbarOpen(false);\r\n    }\r\n  }, [snackPack, messageInfo, snackbarOpen]);\r\n\r\n  const handleSnackbarOpen = (message: string, severity: \"success\" | \"info\" | \"warning\" | \"error\" | undefined) => {\r\n    //setSnackbarOpen(true);\r\n    setSnackPack((prev) => [...prev, { message, severity, key: new Date().getTime() }]);\r\n  }\r\n\r\n  const handleSnackbarClose = (reason?: string) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setSnackbarOpen(false);\r\n  };\r\n\r\n  const handleExited = () => {\r\n    setMessageInfo(undefined);\r\n  };\r\n\r\n  const handleRestartButton = () => {\r\n    props.handleRestartButton();\r\n    handleSnackbarOpen(\"[逆刻] 起動メア巻き戻し。\", \"info\");\r\n  }\r\n\r\n  const handleShorteningButton = () => {\r\n    props.handleShorteningButton();\r\n    handleSnackbarOpen(\"[順刻] 起動メア60秒減少。\", \"info\");\r\n  }\r\n\r\n  const handleMinusButton = () => {\r\n    props.handleMinusButton();\r\n    handleSnackbarOpen(\"-1秒しました。\", \"success\");\r\n  }\r\n\r\n  const handleClearButton = () => {\r\n    props.handleClearButton();\r\n    handleSnackbarOpen(\"クリアしました。\", \"success\");\r\n  }\r\n\r\n  return(\r\n    <>\r\n      <h2>タイマー設定</h2>\r\n      <div className={classes.settingTable}>\r\n        <div className={classes.settingTriggerTable}>\r\n          <ToggleButtonGroup value={props.triggers} onChange={props.handleTriggers} aria-label=\"text formatting\">\r\n            <ToggleButton value=\"short\" aria-label=\"3rdユノ\">\r\n              <Tooltip title={<Typography variant=\"h6\">3rdユノ</Typography>} arrow>\r\n                <SINoImage className={classes.nightmareButtonIcon} data-id='5975' />\r\n              </Tooltip>\r\n            </ToggleButton>\r\n            <ToggleButton value=\"90s\" aria-label=\"ギガース\">\r\n              <Tooltip title={<Typography variant=\"h6\">ギガース</Typography>} arrow>\r\n                <SINoImage className={classes.nightmareButtonIcon} data-id='6324' />\r\n              </Tooltip>\r\n            </ToggleButton>\r\n          </ToggleButtonGroup>\r\n        </div>\r\n        <div className={classes.settingStartPanel}>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.timerButton}\r\n            startIcon={<TimerIcon />}\r\n            onClick={() => props.handleStartButton()}\r\n            disabled={props.startButtonDisabled}\r\n          >\r\n            ナイトメア準備\r\n          </Button>\r\n        </div>\r\n        <div className={classes.settingOptionalTable}>\r\n          <div>\r\n            <Tooltip title={\r\n                <>\r\n                  <Typography variant=\"h6\">逆刻</Typography>\r\n                  <Typography>選択ナイトメアを準備開始まで巻き戻す。</Typography>\r\n                </>\r\n              } arrow>\r\n              <span>\r\n                <Button variant=\"contained\" disabled={props.optButtonDisabled} onClick={() => handleRestartButton()}>\r\n                  <SINoImage className={classes.nightmareButtonIcon} data-id='6416' />\r\n                </Button>\r\n              </span>\r\n            </Tooltip>\r\n            <Tooltip title={\r\n              <>\r\n                <Typography variant=\"h6\">順刻</Typography>\r\n                <Typography>選択ナイトメアを20秒早める。</Typography>\r\n              </>\r\n            } arrow>\r\n              <span>\r\n                <Button variant=\"contained\" disabled={props.optButtonDisabled} onClick={() => handleShorteningButton()}>\r\n                  <SINoImage className={classes.nightmareButtonIcon} data-id='2672' />\r\n                </Button>\r\n              </span>\r\n            </Tooltip>\r\n            <Tooltip title={\r\n              <>\r\n                <Typography variant=\"h6\">微調整</Typography>\r\n                <Typography>1秒の入力遅延を調整する。</Typography>\r\n              </>\r\n            } arrow>\r\n              <span>\r\n                <Button variant=\"contained\" disabled={props.optButtonDisabled} onClick={() => handleMinusButton()}>\r\n                  -1\r\n                </Button>\r\n              </span>\r\n            </Tooltip>\r\n          </div>\r\n          <div className={classes.settingClearPanel}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              startIcon={<DeleteIcon />}\r\n              onClick={() => handleClearButton()}\r\n            >\r\n              クリア\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        <Snackbar\r\n          key={messageInfo ? messageInfo.key : undefined}\r\n          open={snackbarOpen}\r\n          autoHideDuration={3000}\r\n          onClose={() => handleSnackbarClose()}\r\n          onExited={()=> handleExited()}\r\n        >\r\n          <Alert onClose={() => handleSnackbarClose()} severity={messageInfo ? messageInfo.severity : undefined}>\r\n            {messageInfo ? messageInfo.message : undefined}\r\n          </Alert>\r\n        </Snackbar>\r\n        <div className={classes.settingnightmarePanel}>\r\n          <NightmareTabs\r\n            handleNightmareButton={props.handleNightmareButton}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n};\r\n\r\nconst NightmareTimerTable = (props: any) => {\r\n  const classes = useStyles();\r\n\r\n  const nowZeroDate = () => {\r\n    const now = new Date();\r\n    now.setHours(0);\r\n    now.setMinutes(0);\r\n    now.setSeconds(0);\r\n    now.setMilliseconds(0);\r\n    return now;\r\n  }\r\n  if(typeof window != \"undefined\") {\r\n    const audio_notification = new Audio(\"../../static/sounds/cursor2.mp3\");\r\n    const audio_timeup = new Audio(\"../../static/sounds/warning1.mp3\");\r\n  }\r\n      \r\n  //コロシアム残り時間\r\n  const [coloCount, setColoCount] = useState(new Date());\r\n  //発動残り時間\r\n  const [readyCount, setReadyCount] = useState(nowZeroDate());\r\n  //効果残り時間\r\n  const [mareCount, setMareCount] = useState(nowZeroDate());\r\n  //タイマーが起動しているかの判定\r\n  const [startActivate, setStartActivate] = useState(false);\r\n\r\n  //発動・効果タイミング\r\n  const [coloMareTime, setColoMareTime] = useState(['00:00:00', '00:00:00']);\r\n\r\n  //スタートボタン押下時間\r\n  //const [ready, setReady] = useState(new Date());\r\n  //ナイトメア時間情報 @param [mareReady, mareActivate]\r\n  //const [mareTime, setMareTime] = useState<number[]>(() => [0, 0]);\r\n\r\n  //トリガーボタン情報\r\n  const [triggers, setTriggers] = useState<string[]>([]);\r\n  const handleTriggers = (event: React.MouseEvent<HTMLElement>, newTriggers: string[]) => {\r\n    setTriggers(newTriggers);\r\n  };\r\n\r\n  //ボタンDisabled\r\n  const [startButtonDisabled, setStartButtonDisabled] = useState(false);\r\n  const [optButtonDisabled, setOptButtonDisabled] = useState(true);\r\n  \r\n  /*\r\n  useEffect(() => {\r\n    const startTime = getCloseColoTime();\r\n    colo_countdown_timer = setInterval(() =>\r\n                        setColoCount(() => colo_countdown(startTime))\r\n                        , 50);\r\n    return () => clearInterval(colo_countdown_timer);\r\n  }, []);\r\n  */\r\n\r\n  useEffect(() => {\r\n    const startTime = getCloseColoTime();\r\n    colo_countdown_timer = setTimeout(setColoCount.bind(null, colo_countdown(startTime)), 50);\r\n    return () => {\r\n      clearTimeout(colo_countdown_timer);\r\n    };\r\n  }, [coloCount]);\r\n\r\n  \r\n\r\n  const getCloseColoTime = () => {\r\n    var now = new Date();\r\n    var time = Number(now.getHours() + \"\" + (\"0\" + now.getMinutes()).slice(-2));\r\n\r\n    if (colo_countdown_timer != null) clearInterval(colo_countdown_timer);\r\n    var startTime;\r\n    if (time <= 820) {\r\n      startTime = \"8:00\";\r\n    } else if (time <= 1250) {\r\n      startTime = \"12:30\";\r\n    } else if (time <= 1820) {\r\n      startTime = \"18:00\";\r\n    } else if (time <= 1920) {\r\n      startTime = \"19:00\";\r\n    } else if (time <= 2020) {\r\n      startTime = \"20:00\";\r\n    } else if (time <= 2120) {\r\n      startTime = \"21:00\";\r\n    } else if (time <= 2220) {\r\n      startTime = \"22:00\";\r\n    } else if (time <= 2320) {\r\n      startTime = \"23:00\";\r\n    } else {\r\n      startTime = \"24:00\";\r\n    }\r\n    return getTimeDate(startTime + \":00:00\");\r\n  }\r\n  \r\n  const getTimeText = (date: Date) => {\r\n    let hh, mm, ss, dd;\r\n    hh = (\"0\" + date.getHours()).slice(-2);\r\n    mm = (\"0\" + date.getMinutes()).slice(-2);\r\n    ss = (\"0\" + date.getSeconds()).slice(-2);\r\n    dd =  (date.getMilliseconds() + \"0\").slice(0, 2);\r\n    return hh + \":\" + mm + \":\" + ss + \":\" + dd;\r\n  }\r\n\r\n  const getTimeDate = (dateValue: string) => {\r\n    const dateArray = dateValue.split(\":\");\r\n\r\n    const date = new Date();\r\n    date.setHours(Number(dateArray[0]));\r\n    date.setMinutes(Number(dateArray[1]));\r\n    date.setSeconds(Number(dateArray[2]));\r\n    date.setMilliseconds(Number(dateArray[3]));\r\n\r\n    return date;\r\n  }\r\n\r\n  //endDateまでの時間\r\n  const getCountdownDate = (endDate: Date) => {\r\n    const now = nowZeroDate();\r\n    now.setTime(now.getTime() + endDate.getTime() - new Date().getTime());\r\n  \r\n    return now;\r\n  }\r\n\r\n  const getEndDate = (endtime: number, date: Date) => {\r\n    const now = new Date(date);\r\n    now.setSeconds(date.getSeconds() + endtime);\r\n\r\n    return now;\r\n  }\r\n\r\n  //コロシアム残り時間\r\n  const colo_countdown = (date: Date) => {\r\n    const endDate = getEndDate(1200, date);\r\n    const count = getCountdownDate(endDate);\r\n\r\n    if (count.getDate() != new Date().getDate()) {\r\n      clearTimeout(colo_countdown_timer);\r\n      return nowZeroDate();\r\n    }\r\n    return count;\r\n  }\r\n\r\n  const tick_tock = () => {\r\n    audio_notification.play();\r\n  }\r\n\r\n  let ready_countdown_bgcolorflg = false;\r\n  let mare_countdown_bgcolorflg = false;\r\n\r\n  const flashBackground = (bgcolor: string, outtime: number) => {\r\n    /*\r\n    $(\"BODY\").animate({ backgroundColor: bgcolor }, 50, function() {\r\n      $(this).animate({ backgroundColor: \"#ffffff\" }, outtime);\r\n    });\r\n    */\r\n  }\r\n\r\n  //readyカウントダウン\r\n  const ready_countdown = () => {\r\n    var endDate = getEndDate(mareTime[0], ready);\r\n    var count = getCountdownDate(endDate);\r\n\r\n    if (count.getDate() != new Date().getDate()) {\r\n      audio_timeup.play();\r\n      clearInterval(ready_countdown_timer);\r\n      setReadyCount(() => nowZeroDate());\r\n      \r\n      ready_countdown_bgcolorflg = false;\r\n    } else {\r\n      setReadyCount(count);\r\n\r\n      var m, s;\r\n      m = count.getMinutes() * 60;\r\n      s = count.getSeconds();\r\n      if (m + s == 10 && ready_countdown_bgcolorflg == false) {\r\n        ready_countdown_bgcolorflg = true;\r\n        \r\n        tick_tock();\r\n      }\r\n    }\r\n  };\r\n\r\n  //メアカウントダウン\r\n  const mare_countdown = () => {\r\n    var endDate = getEndDate(mareTime[0] + mareTime[1], ready);\r\n    var count = getCountdownDate(endDate);\r\n\r\n    if (count.getDate() != new Date().getDate()) {\r\n      audio_timeup.play();\r\n      setStartButtonDisabled(false);\r\n      setOptButtonDisabled(true);\r\n      setTriggers([]);\r\n\r\n      clearInterval(mare_countdown_timer);\r\n      setMareCount(() => nowZeroDate());\r\n      ready = new Date();\r\n      mareTime = [0, 0];\r\n      setStartActivate(false);\r\n\r\n      mare_countdown_bgcolorflg = false;\r\n    } else {\r\n      setMareCount(count);\r\n\r\n      var m, s;\r\n      m = count.getMinutes() * 60;\r\n      s = count.getSeconds();\r\n      if (m + s == 10 && mare_countdown_bgcolorflg == false) {\r\n        mare_countdown_bgcolorflg = true;\r\n        \r\n        tick_tock();\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleStartButton = () => {\r\n    setStartActivate(true);\r\n    //last_time_act = last_time;\r\n\r\n    //setReady(now);\r\n    ready = new Date();\r\n    \r\n    tick_tock();\r\n\r\n    if (ready_countdown_timer != null) clearInterval(ready_countdown_timer);\r\n    if (mare_countdown_timer != null) clearInterval(mare_countdown_timer);\r\n\r\n    setStartButtonDisabled(true);\r\n    setOptButtonDisabled(false);\r\n  }\r\n\r\n  const handleRestartButton = () => {\r\n    ready = new Date();\r\n  }\r\n\r\n  const handleShorteningButton = () => {\r\n    ready = getEndDate(-60, ready);\r\n  }\r\n  \r\n  const handleMinusButton = () => {\r\n    ready = getEndDate(-1, ready);\r\n  }\r\n\r\n  const handleClearButton = () => {\r\n    const initTime = nowZeroDate();\r\n    setReadyCount(initTime);\r\n    setMareCount(initTime);\r\n    //setReady(initTime);\r\n    //setMareTime([0, 0]);\r\n    ready = new Date();\r\n    mareTime = [0, 0];\r\n    setStartActivate(false);\r\n\r\n    if (ready_countdown_timer != null) clearInterval(ready_countdown_timer);\r\n    if (mare_countdown_timer != null) clearInterval(mare_countdown_timer);\r\n    \r\n    setStartButtonDisabled(false);\r\n    setOptButtonDisabled(true);\r\n    setTriggers([]);\r\n  }\r\n\r\n  const handleNightmareButton = (e: React.MouseEvent<HTMLElement>) => {\r\n    if (startActivate === false) {\r\n      ready = new Date;\r\n      tick_tock();\r\n    }\r\n    setStartActivate(true);\r\n\r\n    const mareReady = triggers.indexOf('90s') !== -1 ? 90 :\r\n                      triggers.indexOf('short') !== -1 ? 5 :\r\n                      e.currentTarget.dataset.ready === undefined ? 0 : +e.currentTarget.dataset.ready;\r\n    const mareActivate = e.currentTarget.dataset.activate === undefined ? 0 : +e.currentTarget.dataset.activate;\r\n\r\n    //setMareTime([mareReady, mareActivate]);\r\n    mareTime = [mareReady, mareActivate];\r\n    \r\n    if (ready_countdown_timer != null) clearInterval(ready_countdown_timer);\r\n    if (mare_countdown_timer != null) clearInterval(mare_countdown_timer);\r\n\r\n    if (mareActivate != 0) ready_countdown_timer = setInterval(ready_countdown, 100);\r\n    mare_countdown_timer = setInterval(mare_countdown, 100);\r\n    \r\n    setStartButtonDisabled(true);\r\n    setOptButtonDisabled(false);\r\n\r\n    /*  発動・効果タイミング\r\n    var countText_now = getTimeText(getEndDate(-1, last_time_act));\r\n    var countText_ready = getTimeText(getEndDate(ready * -1 - 1, last_time_act));\r\n    var countText_end = getTimeText(getEndDate((ready + activate) * -1 - 1, last_time_act));\r\n\r\n    $(\"#next_icon\").attr(\"src\", \"https://sinoalice.game-db.tw/images/card/CardS\" + $(this).data(\"id\") + \".png\");\r\n    $(\"#next_ready\").html(countText_ready);\r\n    $(\"#next_end\").html(countText_end);\r\n    */\r\n  }\r\n\r\n  return(\r\n    <>\r\n      <Paper className={classes.root}>\r\n        <div className={classes.timerPanel}>\r\n          <TimerTable\r\n            coloCountText={getTimeText(coloCount).slice(0,8)}\r\n          />\r\n          <MaretimerTable\r\n            readyCountText={getTimeText(readyCount).slice(0,8)}\r\n            mareCountText={getTimeText(mareCount).slice(0,8)}\r\n          />\r\n          <TimerSettingTable\r\n            triggers={triggers}\r\n            handleTriggers={handleTriggers}\r\n            optButtonDisabled={optButtonDisabled}\r\n            startButtonDisabled={startButtonDisabled}\r\n            handleStartButton={handleStartButton}\r\n            handleRestartButton={handleRestartButton}\r\n            handleShorteningButton={handleShorteningButton}\r\n            handleMinusButton={handleMinusButton}\r\n            handleClearButton={handleClearButton}\r\n            handleNightmareButton={handleNightmareButton}\r\n          />\r\n        </div>\r\n        <div className={classes.historyPanel}>\r\n          <h2>発動履歴</h2>\r\n\r\n        </div>\r\n      </Paper>\r\n    </>\r\n  )\r\n};\r\n\r\n//スマホのとき、Tabを召喚しhistoryを投げつける\r\n//timeline表示→出力（タイムテーブルで扱えるurl形式）\r\n\r\nexport default NightmareTimerTable;"],"sourceRoot":""}