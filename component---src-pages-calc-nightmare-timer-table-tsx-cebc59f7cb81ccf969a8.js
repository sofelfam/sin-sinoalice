(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{N4kw:function(e,t,a){"use strict";a.r(t);var n=a("KQm4"),r=a("rePB"),i=a("wx14"),o=a("q1tI"),l=a.n(o),c=a("R/WZ"),s=a("ZBNC"),u=a("kKAo"),b=a("1NhI"),d=a("wb2y"),m=a("csfp"),g=a("ofer"),p=a("Z3vd"),v=a("79Xs"),O=a("7cJT"),f=a("FMqX"),j=a.n(f),h=a("FrwU"),w=a.n(h),x=a("Ff2n"),N=a("iuhU"),y=a("ye/S"),C=a("H2TA"),T=a("VD++"),D=a("NqtD"),S=o.forwardRef((function(e,t){var a=e.children,n=e.classes,r=e.className,l=e.disabled,c=void 0!==l&&l,s=e.disableFocusRipple,u=void 0!==s&&s,b=e.onChange,d=e.onClick,m=e.selected,g=e.size,p=void 0===g?"medium":g,v=e.value,O=Object(x.a)(e,["children","classes","className","disabled","disableFocusRipple","onChange","onClick","selected","size","value"]);return o.createElement(T.a,Object(i.a)({className:Object(N.a)(n.root,r,c&&n.disabled,m&&n.selected,"medium"!==p&&n["size".concat(Object(D.a)(p))]),disabled:c,focusRipple:!u,ref:t,onClick:function(e){d&&(d(e,v),e.isDefaultPrevented())||b&&b(e,v)},onChange:b,value:v,"aria-pressed":m},O),o.createElement("span",{className:n.label},a))})),B=Object(C.a)((function(e){return{root:Object(i.a)({},e.typography.button,{boxSizing:"border-box",borderRadius:e.shape.borderRadius,padding:11,border:"1px solid ".concat(Object(y.c)(e.palette.action.active,.12)),color:Object(y.c)(e.palette.action.active,.38),"&$selected":{color:e.palette.action.active,backgroundColor:Object(y.c)(e.palette.action.active,.12),"&:hover":{backgroundColor:Object(y.c)(e.palette.action.active,.15)},"& + &":{borderLeft:0,marginLeft:0}},"&$disabled":{color:Object(y.c)(e.palette.action.disabled,.12)},"&:hover":{textDecoration:"none",backgroundColor:Object(y.c)(e.palette.text.primary,.05),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}}}),disabled:{},selected:{},label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},sizeSmall:{padding:7,fontSize:e.typography.pxToRem(13)},sizeLarge:{padding:15,fontSize:e.typography.pxToRem(15)}}}),{name:"MuiToggleButton"})(S);a("TOwV");function I(e,t){return void 0!==t&&void 0!==e&&(Array.isArray(t)?t.indexOf(e)>=0:e===t)}var k,R,M,z=o.forwardRef((function(e,t){var a=e.children,n=e.classes,r=e.className,l=e.exclusive,c=void 0!==l&&l,s=e.onChange,u=e.orientation,b=void 0===u?"horizontal":u,d=e.size,m=void 0===d?"medium":d,g=e.value,p=Object(x.a)(e,["children","classes","className","exclusive","onChange","orientation","size","value"]),v=function(e,t){if(s){var a,n=g&&g.indexOf(t);g&&n>=0?(a=g.slice()).splice(n,1):a=g?g.concat(t):[t],s(e,a)}},O=function(e,t){s&&s(e,g===t?null:t)};return o.createElement("div",Object(i.a)({role:"group",className:Object(N.a)(n.root,r,"vertical"===b&&n.vertical),ref:t},p),o.Children.map(a,(function(e){return o.isValidElement(e)?o.cloneElement(e,{className:Object(N.a)(n.grouped,n["grouped".concat(Object(D.a)(b))],e.props.className),onChange:c?O:v,selected:void 0===e.props.selected?I(e.props.value,g):e.props.selected,size:e.props.size||m}):null})))})),P=Object(C.a)((function(e){return{root:{display:"inline-flex",borderRadius:e.shape.borderRadius},vertical:{flexDirection:"column"},grouped:{},groupedHorizontal:{"&:not(:first-child)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}},groupedVertical:{"&:not(:first-child)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-child)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}}),{name:"MuiToggleButtonGroup"})(z),F=a("ZiQX"),q=a("m2me"),L=a("qKvR");function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var A=[0,0],H=new Date,W=new Date,U=Object(c.a)((function(e){var t;return Object(s.a)({root:(t={padding:"5px",display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"center",alignItems:"stretch"},t[e.breakpoints.down("xs")]={flexDirection:"column"},t["& h2"]={fontSize:"1.8rem",margin:"10px auto",width:"100%"},t["& .MuiToggleButton-root"]={padding:"2px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.1)",filter:"invert(10%)"},"&.Mui-selected":{backgroundColor:"rgba(0, 0, 0, 0.24)",filter:"invert(20%)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.28)",filter:"invert(25%)"}}},t["& .MuiAlert-root"]={fontSize:"1.4rem"},t),flex:{display:"flex"},divider:{margin:"10px auto"},timerPanel:{margin:"0 5px"},historyPanel:{margin:"0 5px",position:"relative"},nightmareIcon:{width:"4rem",height:"4rem"},timerTable:{width:"fit-content",margin:"0 auto"},timerLabelCell:{flexGrow:2,height:"3rem",padding:"1px 5px",backgroundColor:e.palette.primary.light,color:"#FFFFFF",textAlign:"center",fontSize:"2rem",fontWeight:"bold"},timerIconCell:{border:"solid 1px lightgray",width:"6rem",height:"6rem"},nightmareTimerIcon:{width:"100%",height:"100%"},timeDisplayCell:{border:"solid 1px lightgray",width:"10.5rem",padding:"0px 10px",textAlign:"center",fontSize:"2rem",fontWeight:"bold"},settingTriggerTable:{width:"80%",margin:"0 auto"},settingStartPanel:{width:"95%",margin:"0 auto"},settingnightmarePanel:{margin:"0 auto"},settingOptionalTable:{display:"flex",flexDirection:"row",width:"85%",margin:"0 auto","& .MuiButton-root":{minWidth:"auto",width:"40px",height:"40px",padding:"0px",margin:"3px",fontSize:"1.6rem"}},optButton:{"&:disabled":{filter:"invert(20%)"},"&:hover":{filter:"invert(10%)"}},settingClearPanel:{margin:"0 0 0 auto","& .MuiButton-root":{width:"10rem"}},settingTable:{"& > *":{marginBottom:e.spacing(1)}},timerButton:{backgroundColor:e.palette.primary.light,width:"100%",minWidth:"100px",height:"5rem",fontSize:"1.8rem"}})})),V=function(e){return Object(L.b)(F.a,Object(i.a)({elevation:6,variant:"filled"},e))},Z=function(e){var t=U();return Object(L.b)(l.a.Fragment,null,Object(L.b)(u.a,{square:!0,className:t.timerTable},Object(L.b)("div",{className:t.flex},Object(L.b)(u.a,{variant:"outlined",square:!0,className:t.timerLabelCell},"全体時間"),Object(L.b)(u.a,{variant:"outlined",square:!0,className:t.timeDisplayCell},e.coloCountText)),Object(L.b)("div",{className:t.flex},Object(L.b)(u.a,{variant:"outlined",square:!0,className:t.timerIconCell},Object(L.b)(O.d,{className:t.nightmareTimerIcon,"data-id":e.coloMareId})),Object(L.b)("div",null,Object(L.b)("div",{className:t.flex},Object(L.b)(u.a,{variant:"outlined",square:!0,className:t.timerLabelCell},"発動"),Object(L.b)(u.a,{variant:"outlined",square:!0,className:t.timeDisplayCell},e.coloMareStartTime)),Object(L.b)("div",{className:t.flex},Object(L.b)(u.a,{variant:"outlined",square:!0,className:t.timerLabelCell},"終了"),Object(L.b)(u.a,{variant:"outlined",square:!0,className:t.timeDisplayCell},e.coloMareEndTime))))),Object(L.b)(b.a,{smUp:!0,implementation:"css"},Object(L.b)(d.a,{light:!0,className:t.divider})))},J=function(e){var t=U();return Object(L.b)(l.a.Fragment,null,Object(L.b)(b.a,{xsDown:!0,implementation:"css"},Object(L.b)("h2",null,"タイマー")),Object(L.b)(u.a,{square:!0,className:t.timerTable},Object(L.b)("div",{className:t.flex},Object(L.b)(u.a,{variant:"outlined",square:!0,className:t.timerLabelCell},"発動時間"),Object(L.b)(u.a,{variant:"outlined",square:!0,className:t.timeDisplayCell},e.readyCountText)),Object(L.b)("div",{className:t.flex},Object(L.b)(u.a,{variant:"outlined",square:!0,className:t.timerLabelCell},"終了時間"),Object(L.b)(u.a,{variant:"outlined",square:!0,className:t.timeDisplayCell},e.mareCountText))),Object(L.b)(b.a,{smUp:!0,implementation:"css"},Object(L.b)(d.a,{light:!0,className:t.divider})))},K=function(e){var t=U(),a=l.a.useState([]),i=a[0],c=a[1],s=Object(o.useState)(!1),u=s[0],d=s[1],f=l.a.useState(void 0),h=f[0],x=f[1];Object(o.useEffect)((function(){i.length&&!h?(x(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},i[0])),c((function(e){return e.slice(1)})),d(!0)):i.length&&h&&u&&d(!1)}),[i,h,u]);var N=function(e,t){c((function(a){return[].concat(Object(n.a)(a),[{message:e,severity:t,key:(new Date).getTime()}])}))},y=function(e){"clickaway"!==e&&d(!1)};return Object(L.b)(l.a.Fragment,null,Object(L.b)(b.a,{xsDown:!0,implementation:"css"},Object(L.b)("h2",null,"タイマー設定")),Object(L.b)("div",{className:t.settingTable},Object(L.b)("div",{className:t.settingTriggerTable},Object(L.b)(P,{value:e.triggers,onChange:e.handleTriggers,"aria-label":"text formatting"},Object(L.b)(B,{value:"short","aria-label":"3rdユノ"},Object(L.b)(m.a,{title:Object(L.b)(g.a,{variant:"h6"},"3rdユノ"),arrow:!0},Object(L.b)(O.d,{className:t.nightmareIcon,"data-id":"5975"}))),Object(L.b)(B,{value:"90s","aria-label":"ギガース"},Object(L.b)(m.a,{title:Object(L.b)(g.a,{variant:"h6"},"ギガース"),arrow:!0},Object(L.b)(O.d,{className:t.nightmareIcon,"data-id":"6324"}))))),Object(L.b)("div",{className:t.settingStartPanel},Object(L.b)(p.a,{variant:"contained",color:"primary",className:t.timerButton,startIcon:Object(L.b)(j.a,null),onClick:function(){return e.handleStartButton()},disabled:e.startButtonDisabled},"ナイトメア準備")),Object(L.b)("div",{className:t.settingOptionalTable},Object(L.b)("div",null,Object(L.b)(m.a,{title:Object(L.b)(l.a.Fragment,null,Object(L.b)(g.a,{variant:"h6"},"逆刻"),Object(L.b)(g.a,null,"選択ナイトメアを準備開始まで巻き戻す。")),arrow:!0},Object(L.b)("span",null,Object(L.b)(p.a,{variant:"contained",className:t.optButton,disabled:e.optButtonDisabled,onClick:function(){return e.handleRestartButton(),void N("[逆刻] 起動メア巻き戻し。","info")}},Object(L.b)(O.d,{className:t.nightmareIcon,"data-id":"6416"})))),Object(L.b)(m.a,{title:Object(L.b)(l.a.Fragment,null,Object(L.b)(g.a,{variant:"h6"},"順刻"),Object(L.b)(g.a,null,"選択ナイトメアを20秒早める。")),arrow:!0},Object(L.b)("span",null,Object(L.b)(p.a,{variant:"contained",className:t.optButton,disabled:e.optButtonDisabled,onClick:function(){return e.handleShorteningButton(),void N("[順刻] 起動メア60秒減少。","info")}},Object(L.b)(O.d,{className:t.nightmareIcon,"data-id":"2672"})))),Object(L.b)(m.a,{title:Object(L.b)(l.a.Fragment,null,Object(L.b)(g.a,{variant:"h6"},"微調整"),Object(L.b)(g.a,null,"1秒の入力遅延を調整する。")),arrow:!0},Object(L.b)("span",null,Object(L.b)(p.a,{variant:"contained",className:t.optButton,disabled:e.optButtonDisabled,onClick:function(){return e.handleMinusButton(),void N("-1秒しました。","success")}},"-1")))),Object(L.b)("div",{className:t.settingClearPanel},Object(L.b)(p.a,{variant:"contained",color:"secondary",startIcon:Object(L.b)(w.a,null),onClick:function(){return e.handleClearButton(),void N("クリアしました。","success")}},"クリア"))),Object(L.b)(v.a,{key:h?h.key:void 0,open:u,autoHideDuration:3e3,onClose:function(){return y()},onExited:function(){x(void 0)}},Object(L.b)(V,{onClose:function(){return y()},severity:h?h.severity:void 0},h?h.message:void 0)),Object(L.b)("div",{className:t.settingnightmarePanel},Object(L.b)(q.default,{handleNightmareButton:e.handleNightmareButton}))))};t.default=function(e){var t=U(),a=function(){var e=new Date;return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e},n=Object(o.useState)(new Date),r=n[0],i=n[1],c=Object(o.useState)(a()),s=c[0],b=c[1],d=Object(o.useState)(a()),m=d[0],g=d[1],p=Object(o.useState)(!1),v=p[0],O=p[1],f=Object(o.useState)([a(),a()]),j=f[0],h=f[1],w=Object(o.useState)("0465"),x=w[0],N=w[1],y=Object(o.useState)([]),C=y[0],T=y[1],D=Object(o.useState)(!1),S=D[0],B=D[1],I=Object(o.useState)(!0),z=I[0],P=I[1];Object(o.useEffect)((function(){var e=V();return k=setTimeout(i.bind(null,Y(e)),50),function(){clearTimeout(k)}}),[r]);var F=Object(o.useState)(),q=F[0],E=F[1];Object(o.useEffect)((function(){E([new Audio("../../static/sounds/cursor2.mp3"),new Audio("../../static/sounds/warning1.mp3")])}),[]);var V=function(){var e=new Date,t=Number(e.getHours()+""+("0"+e.getMinutes()).slice(-2));return null!=k&&clearInterval(k),$((t<=820?"8:00":t<=1250?"12:30":t<=1820?"18:00":t<=1920?"19:00":t<=2020?"20:00":t<=2120?"21:00":t<=2220?"22:00":t<=2320?"23:00":"24:00")+":00:00")},X=function(e){return 0,("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)+":0"},$=function(e){var t=e.split(":"),a=new Date;return a.setHours(Number(t[0])),a.setMinutes(Number(t[1])),a.setSeconds(Number(t[2])),a},G=function(e){var t=a();return t.setTime(t.getTime()+e.getTime()-(new Date).getTime()),t},Q=function(e,t){var a=new Date(t);return a.setSeconds(t.getSeconds()+e),a},Y=function(e){var t=Q(1200,e),n=G(t);return n.getDate()!=(new Date).getDate()?(clearTimeout(k),a()):n},_=function(e){q&&q[e]&&q[e].play()},ee=!1,te=!1,ae=function(){var e=Q(A[0],H),t=G(e);t.getDate()!=(new Date).getDate()?(_(1),clearInterval(M),b((function(){return a()})),ee=!1):(b(t),60*t.getMinutes()+t.getSeconds()==10&&0==ee&&(ee=!0,_(0)))},ne=function(){var e=Q(A[0]+A[1],H),t=G(e);t.getDate()!=(new Date).getDate()?(_(1),B(!1),P(!0),T([]),clearInterval(R),g((function(){return a()})),H=new Date,A=[0,0],O(!1),te=!1):(g(t),60*t.getMinutes()+t.getSeconds()==10&&0==te&&(te=!0,_(0)))};return Object(L.b)(l.a.Fragment,null,Object(L.b)(u.a,{className:t.root},Object(L.b)("div",{className:t.timerPanel},Object(L.b)(Z,{coloCountText:X(r).slice(0,8),coloMareStartTime:X(j[0]).slice(0,8),coloMareEndTime:X(j[1]).slice(0,8),coloMareId:x}),Object(L.b)(J,{readyCountText:X(s).slice(0,8),mareCountText:X(m).slice(0,8)}),Object(L.b)(K,{triggers:C,handleTriggers:function(e,t){T(t)},optButtonDisabled:z,startButtonDisabled:S,handleStartButton:function(){O(!0),H=new Date,W=r,_(0),null!=M&&clearInterval(M),null!=R&&clearInterval(R),B(!0)},handleRestartButton:function(){H=new Date,h([Q(-1-A[0],r),Q(-1-A[0]-A[1],r)]),null!=M&&clearInterval(M),null!=R&&clearInterval(R),M=setInterval(ae,50),R=setInterval(ne,50)},handleShorteningButton:function(){H=Q(-60,H),W=Q(60,W),h([Q(60,j[0]),Q(60,j[1])])},handleMinusButton:function(){H=Q(-1,H),W=Q(1,W),h([Q(1,j[0]),Q(1,j[1])])},handleClearButton:function(){var e=a();b(e),g(e),H=new Date,A=[0,0],O(!1),h([e,e]),null!=M&&clearInterval(M),null!=R&&clearInterval(R),B(!1),P(!0),T([])},handleNightmareButton:function(e){!1===v&&(H=new Date,W=r,_(0)),O(!0);var t=-1!==C.indexOf("90s")?90:-1!==C.indexOf("short")?5:void 0===e.currentTarget.dataset.ready?0:+e.currentTarget.dataset.ready,a=void 0===e.currentTarget.dataset.activate?0:+e.currentTarget.dataset.activate,n=Q(-1-(A=[t,a])[0],W),i=Q(-1-A[0]-A[1],W);h([n,i]),N(void 0===e.currentTarget.dataset.id?"0465":e.currentTarget.dataset.id),null!=M&&clearInterval(M),null!=R&&clearInterval(R),M=setInterval(ae,50),R=setInterval(ne,50),B(!0),P(!1)}})),Object(L.b)("div",{className:t.historyPanel},Object(L.b)("h2",null,"発動履歴"))))}}}]);
//# sourceMappingURL=component---src-pages-calc-nightmare-timer-table-tsx-cebc59f7cb81ccf969a8.js.map