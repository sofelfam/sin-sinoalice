(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{N4kw:function(e,t,a){"use strict";a.r(t);var n=a("KQm4"),r=a("rePB"),i=a("wx14"),o=a("q1tI"),l=a.n(o),c=a("R/WZ"),s=a("ZBNC"),u=a("kKAo"),b=a("csfp"),d=a("ofer"),m=a("Z3vd"),g=a("79Xs"),v=a("7cJT"),O=a("FMqX"),f=a.n(O),p=a("FrwU"),j=a.n(p),h=a("Ff2n"),w=a("iuhU"),x=a("ye/S"),C=a("H2TA"),N=a("VD++"),T=a("NqtD"),y=o.forwardRef((function(e,t){var a=e.children,n=e.classes,r=e.className,l=e.disabled,c=void 0!==l&&l,s=e.disableFocusRipple,u=void 0!==s&&s,b=e.onChange,d=e.onClick,m=e.selected,g=e.size,v=void 0===g?"medium":g,O=e.value,f=Object(h.a)(e,["children","classes","className","disabled","disableFocusRipple","onChange","onClick","selected","size","value"]);return o.createElement(N.a,Object(i.a)({className:Object(w.a)(n.root,r,c&&n.disabled,m&&n.selected,"medium"!==v&&n["size".concat(Object(T.a)(v))]),disabled:c,focusRipple:!u,ref:t,onClick:function(e){d&&(d(e,O),e.isDefaultPrevented())||b&&b(e,O)},onChange:b,value:O,"aria-pressed":m},f),o.createElement("span",{className:n.label},a))})),D=Object(C.a)((function(e){return{root:Object(i.a)({},e.typography.button,{boxSizing:"border-box",borderRadius:e.shape.borderRadius,padding:11,border:"1px solid ".concat(Object(x.c)(e.palette.action.active,.12)),color:Object(x.c)(e.palette.action.active,.38),"&$selected":{color:e.palette.action.active,backgroundColor:Object(x.c)(e.palette.action.active,.12),"&:hover":{backgroundColor:Object(x.c)(e.palette.action.active,.15)},"& + &":{borderLeft:0,marginLeft:0}},"&$disabled":{color:Object(x.c)(e.palette.action.disabled,.12)},"&:hover":{textDecoration:"none",backgroundColor:Object(x.c)(e.palette.text.primary,.05),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}}}),disabled:{},selected:{},label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},sizeSmall:{padding:7,fontSize:e.typography.pxToRem(13)},sizeLarge:{padding:15,fontSize:e.typography.pxToRem(15)}}}),{name:"MuiToggleButton"})(y);a("TOwV");function S(e,t){return void 0!==t&&void 0!==e&&(Array.isArray(t)?t.indexOf(e)>=0:e===t)}var B,I,k,R=o.forwardRef((function(e,t){var a=e.children,n=e.classes,r=e.className,l=e.exclusive,c=void 0!==l&&l,s=e.onChange,u=e.orientation,b=void 0===u?"horizontal":u,d=e.size,m=void 0===d?"medium":d,g=e.value,v=Object(h.a)(e,["children","classes","className","exclusive","onChange","orientation","size","value"]),O=function(e,t){if(s){var a,n=g&&g.indexOf(t);g&&n>=0?(a=g.slice()).splice(n,1):a=g?g.concat(t):[t],s(e,a)}},f=function(e,t){s&&s(e,g===t?null:t)};return o.createElement("div",Object(i.a)({role:"group",className:Object(w.a)(n.root,r,"vertical"===b&&n.vertical),ref:t},v),o.Children.map(a,(function(e){return o.isValidElement(e)?o.cloneElement(e,{className:Object(w.a)(n.grouped,n["grouped".concat(Object(T.a)(b))],e.props.className),onChange:c?f:O,selected:void 0===e.props.selected?S(e.props.value,g):e.props.selected,size:e.props.size||m}):null})))})),M=Object(C.a)((function(e){return{root:{display:"inline-flex",borderRadius:e.shape.borderRadius},vertical:{flexDirection:"column"},grouped:{},groupedHorizontal:{"&:not(:first-child)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}},groupedVertical:{"&:not(:first-child)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-child)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}}),{name:"MuiToggleButtonGroup"})(R),F=a("ZiQX"),z=a("m2me"),P=a("qKvR");function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var L=[0,0],E=new Date,A=new Date,H=Object(c.a)((function(e){var t;return Object(s.a)({root:(t={padding:"5px",display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"center",alignItems:"stretch"},t[e.breakpoints.down("xs")]={flexDirection:"column"},t["& h2"]={fontSize:"1.8rem",margin:"10px auto",width:"100%"},t["& .MuiToggleButton-root"]={padding:"2px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.1)",filter:"invert(5%)"},"&.Mui-selected":{backgroundColor:"rgba(0, 0, 0, 0.24)",filter:"invert(20%)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.28)",filter:"invert(25%)"}}},t["& .MuiAlert-root"]={fontSize:"1.4rem"},t),flex:{display:"flex"},timerPanel:{margin:"0 5px"},historyPanel:{margin:"0 5px",position:"relative"},nightmareIcon:{width:"4rem",height:"4rem"},timerTable:{width:"fit-content",margin:"0 auto"},timerLabelCell:{flexGrow:2,height:"3rem",padding:"1px 5px",background:"#FF7F50",color:"#FFFFFF",textAlign:"center",fontSize:"2rem",fontWeight:"bold"},timerIconCell:{border:"solid 1px lightgray",width:"6rem",height:"6rem"},nightmareTimerIcon:{width:"100%",height:"100%"},timeDisplayCell:{border:"solid 1px lightgray",width:"10.5rem",padding:"0px 10px",textAlign:"center",fontSize:"2rem",fontWeight:"bold"},settingTriggerTable:{width:"80%",margin:"0 auto"},settingStartPanel:{width:"95%",margin:"0 auto"},settingnightmarePanel:{margin:"0 auto"},settingOptionalTable:{display:"flex",flexDirection:"row",width:"85%",margin:"0 auto","& .MuiButton-root":{minWidth:"auto",width:"40px",height:"40px",padding:"0px",margin:"3px",fontSize:"1.6rem"}},settingClearPanel:{margin:"0 0 0 auto","& .MuiButton-root":{width:"10rem"}},settingTable:{"& > *":{marginBottom:e.spacing(1)}},timerButton:{width:"100%",minWidth:"100px",height:"5rem",fontSize:"1.8rem"}})})),W=function(e){return Object(P.b)(F.a,Object(i.a)({elevation:6,variant:"filled"},e))},V=function(e){var t=H();return Object(P.b)(l.a.Fragment,null,Object(P.b)("h2",null,"コロシアム残り時間"),Object(P.b)(u.a,{square:!0,className:t.timerTable},Object(P.b)("div",{className:t.flex},Object(P.b)(u.a,{variant:"outlined",square:!0,className:t.timerLabelCell},"全体時間"),Object(P.b)(u.a,{variant:"outlined",square:!0,className:t.timeDisplayCell},e.coloCountText)),Object(P.b)("div",{className:t.flex},Object(P.b)(u.a,{variant:"outlined",square:!0,className:t.timerIconCell},Object(P.b)(v.d,{className:t.nightmareTimerIcon,"data-id":e.coloMareId})),Object(P.b)("div",null,Object(P.b)("div",{className:t.flex},Object(P.b)(u.a,{variant:"outlined",square:!0,className:t.timerLabelCell},"発動"),Object(P.b)(u.a,{variant:"outlined",square:!0,className:t.timeDisplayCell},e.coloMareStartTime)),Object(P.b)("div",{className:t.flex},Object(P.b)(u.a,{variant:"outlined",square:!0,className:t.timerLabelCell},"終了"),Object(P.b)(u.a,{variant:"outlined",square:!0,className:t.timeDisplayCell},e.coloMareEndTime))))))},Z=function(e){var t=H();return Object(P.b)(l.a.Fragment,null,Object(P.b)("h2",null,"タイマー"),Object(P.b)(u.a,{square:!0,className:t.timerTable},Object(P.b)("div",{className:t.flex},Object(P.b)(u.a,{variant:"outlined",square:!0,className:t.timerLabelCell},"発動時間"),Object(P.b)(u.a,{variant:"outlined",square:!0,className:t.timeDisplayCell},e.readyCountText)),Object(P.b)("div",{className:t.flex},Object(P.b)(u.a,{variant:"outlined",square:!0,className:t.timerLabelCell},"終了時間"),Object(P.b)(u.a,{variant:"outlined",square:!0,className:t.timeDisplayCell},e.mareCountText))))},J=function(e){var t=H(),a=l.a.useState([]),i=a[0],c=a[1],s=Object(o.useState)(!1),u=s[0],O=s[1],p=l.a.useState(void 0),h=p[0],w=p[1];Object(o.useEffect)((function(){i.length&&!h?(w(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},i[0])),c((function(e){return e.slice(1)})),O(!0)):i.length&&h&&u&&O(!1)}),[i,h,u]);var x=function(e,t){c((function(a){return[].concat(Object(n.a)(a),[{message:e,severity:t,key:(new Date).getTime()}])}))},C=function(e){"clickaway"!==e&&O(!1)};return Object(P.b)(l.a.Fragment,null,Object(P.b)("h2",null,"タイマー設定"),Object(P.b)("div",{className:t.settingTable},Object(P.b)("div",{className:t.settingTriggerTable},Object(P.b)(M,{value:e.triggers,onChange:e.handleTriggers,"aria-label":"text formatting"},Object(P.b)(D,{value:"short","aria-label":"3rdユノ"},Object(P.b)(b.a,{title:Object(P.b)(d.a,{variant:"h6"},"3rdユノ"),arrow:!0},Object(P.b)(v.d,{className:t.nightmareIcon,"data-id":"5975"}))),Object(P.b)(D,{value:"90s","aria-label":"ギガース"},Object(P.b)(b.a,{title:Object(P.b)(d.a,{variant:"h6"},"ギガース"),arrow:!0},Object(P.b)(v.d,{className:t.nightmareIcon,"data-id":"6324"}))))),Object(P.b)("div",{className:t.settingStartPanel},Object(P.b)(m.a,{variant:"contained",color:"primary",className:t.timerButton,startIcon:Object(P.b)(f.a,null),onClick:function(){return e.handleStartButton()},disabled:e.startButtonDisabled},"ナイトメア準備")),Object(P.b)("div",{className:t.settingOptionalTable},Object(P.b)("div",null,Object(P.b)(b.a,{title:Object(P.b)(l.a.Fragment,null,Object(P.b)(d.a,{variant:"h6"},"逆刻"),Object(P.b)(d.a,null,"選択ナイトメアを準備開始まで巻き戻す。")),arrow:!0},Object(P.b)("span",null,Object(P.b)(m.a,{variant:"contained",disabled:e.optButtonDisabled,onClick:function(){return e.handleRestartButton(),void x("[逆刻] 起動メア巻き戻し。","info")}},Object(P.b)(v.d,{className:t.nightmareIcon,"data-id":"6416"})))),Object(P.b)(b.a,{title:Object(P.b)(l.a.Fragment,null,Object(P.b)(d.a,{variant:"h6"},"順刻"),Object(P.b)(d.a,null,"選択ナイトメアを20秒早める。")),arrow:!0},Object(P.b)("span",null,Object(P.b)(m.a,{variant:"contained",disabled:e.optButtonDisabled,onClick:function(){return e.handleShorteningButton(),void x("[順刻] 起動メア60秒減少。","info")}},Object(P.b)(v.d,{className:t.nightmareIcon,"data-id":"2672"})))),Object(P.b)(b.a,{title:Object(P.b)(l.a.Fragment,null,Object(P.b)(d.a,{variant:"h6"},"微調整"),Object(P.b)(d.a,null,"1秒の入力遅延を調整する。")),arrow:!0},Object(P.b)("span",null,Object(P.b)(m.a,{variant:"contained",disabled:e.optButtonDisabled,onClick:function(){return e.handleMinusButton(),void x("-1秒しました。","success")}},"-1")))),Object(P.b)("div",{className:t.settingClearPanel},Object(P.b)(m.a,{variant:"contained",color:"secondary",startIcon:Object(P.b)(j.a,null),onClick:function(){return e.handleClearButton(),void x("クリアしました。","success")}},"クリア"))),Object(P.b)(g.a,{key:h?h.key:void 0,open:u,autoHideDuration:3e3,onClose:function(){return C()},onExited:function(){w(void 0)}},Object(P.b)(W,{onClose:function(){return C()},severity:h?h.severity:void 0},h?h.message:void 0)),Object(P.b)("div",{className:t.settingnightmarePanel},Object(P.b)(z.default,{handleNightmareButton:e.handleNightmareButton}))))};t.default=function(e){var t=H(),a=function(){var e=new Date;return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e},n=Object(o.useState)(new Date),r=n[0],i=n[1],c=Object(o.useState)(a()),s=c[0],b=c[1],d=Object(o.useState)(a()),m=d[0],g=d[1],v=Object(o.useState)(!1),O=v[0],f=v[1],p=Object(o.useState)([a(),a()]),j=p[0],h=p[1],w=Object(o.useState)("0465"),x=w[0],C=w[1],N=Object(o.useState)([]),T=N[0],y=N[1],D=Object(o.useState)(!1),S=D[0],R=D[1],M=Object(o.useState)(!0),F=M[0],z=M[1];Object(o.useEffect)((function(){var e=X();return B=setTimeout(i.bind(null,Y(e)),50),function(){clearTimeout(B)}}),[r]);var q=Object(o.useState)(),W=q[0],K=q[1];Object(o.useEffect)((function(){K([new Audio("../../static/sounds/cursor2.mp3"),new Audio("../../static/sounds/warning1.mp3")])}),[]);var X=function(){var e=new Date,t=Number(e.getHours()+""+("0"+e.getMinutes()).slice(-2));return null!=B&&clearInterval(B),G((t<=820?"8:00":t<=1250?"12:30":t<=1820?"18:00":t<=1920?"19:00":t<=2020?"20:00":t<=2120?"21:00":t<=2220?"22:00":t<=2320?"23:00":"24:00")+":00:00")},$=function(e){return 0,("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)+":0"},G=function(e){var t=e.split(":"),a=new Date;return a.setHours(Number(t[0])),a.setMinutes(Number(t[1])),a.setSeconds(Number(t[2])),a},Q=function(e){var t=a();return t.setTime(t.getTime()+e.getTime()-(new Date).getTime()),t},U=function(e,t){var a=new Date(t);return a.setSeconds(t.getSeconds()+e),a},Y=function(e){var t=U(1200,e),n=Q(t);return n.getDate()!=(new Date).getDate()?(clearTimeout(B),a()):n},_=function(e){W&&W[e]&&W[e].play()},ee=!1,te=!1,ae=function(){var e=U(L[0],E),t=Q(e);t.getDate()!=(new Date).getDate()?(_(1),clearInterval(k),b((function(){return a()})),ee=!1):(b(t),60*t.getMinutes()+t.getSeconds()==10&&0==ee&&(ee=!0,_(0)))},ne=function(){var e=U(L[0]+L[1],E),t=Q(e);t.getDate()!=(new Date).getDate()?(_(1),R(!1),z(!0),y([]),clearInterval(I),g((function(){return a()})),E=new Date,L=[0,0],f(!1),te=!1):(g(t),60*t.getMinutes()+t.getSeconds()==10&&0==te&&(te=!0,_(0)))};return Object(P.b)(l.a.Fragment,null,Object(P.b)(u.a,{className:t.root},Object(P.b)("div",{className:t.timerPanel},Object(P.b)(V,{coloCountText:$(r).slice(0,8),coloMareStartTime:$(j[0]).slice(0,8),coloMareEndTime:$(j[1]).slice(0,8),coloMareId:x}),Object(P.b)(Z,{readyCountText:$(s).slice(0,8),mareCountText:$(m).slice(0,8)}),Object(P.b)(J,{triggers:T,handleTriggers:function(e,t){y(t)},optButtonDisabled:F,startButtonDisabled:S,handleStartButton:function(){f(!0),E=new Date,A=r,_(0),null!=k&&clearInterval(k),null!=I&&clearInterval(I),R(!0),z(!1)},handleRestartButton:function(){E=new Date,h([U(-1-L[0],r),U(-1-L[0]-L[1],r)]),null!=k&&clearInterval(k),null!=I&&clearInterval(I),0!=L[1]&&(k=setInterval(ae,50)),I=setInterval(ne,50)},handleShorteningButton:function(){E=U(-60,E),h([U(60,j[0]),U(60,j[1])])},handleMinusButton:function(){E=U(-1,E),h([U(1,j[0]),U(1,j[1])])},handleClearButton:function(){var e=a();b(e),g(e),E=new Date,L=[0,0],f(!1),h([e,e]),null!=k&&clearInterval(k),null!=I&&clearInterval(I),R(!1),z(!0),y([])},handleNightmareButton:function(e){!1===O&&(E=new Date,A=r,_(0)),f(!0);var t=-1!==T.indexOf("90s")?90:-1!==T.indexOf("short")?5:void 0===e.currentTarget.dataset.ready?0:+e.currentTarget.dataset.ready,a=void 0===e.currentTarget.dataset.activate?0:+e.currentTarget.dataset.activate,n=U(-1-(L=[t,a])[0],A),i=U(-1-L[0]-L[1],A);h([n,i]),C(void 0===e.currentTarget.dataset.id?"0465":e.currentTarget.dataset.id),null!=k&&clearInterval(k),null!=I&&clearInterval(I),0!=a&&(k=setInterval(ae,50)),I=setInterval(ne,50),R(!0),z(!1)}})),Object(P.b)("div",{className:t.historyPanel},Object(P.b)("h2",null,"発動履歴"))))}}}]);
//# sourceMappingURL=component---src-pages-calc-nightmare-timer-table-tsx-c616b0f7dbeeadd38412.js.map